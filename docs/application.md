# application

## プロジェクトとアプリケーションの関係

django は実際の動作部分をアプリケーションと言って、プロジェクトとの配下に復数作るようになっています。目には見えないので実感しづらいですが。django.auth などもアプリケーションです。(実はすでに複数プロジェクト体制です)

これは、プロジェクト内部で作成された様々な機能を再利用にするための設計で、例を上げると以下のようになります。

1. 複数人でおすすめ url を共有するようにした。そのため url を登録するアプリを作った
2. 1 の url はサイトがクローズしたりすると見れなくなるので、毎日 url にアクセスしてクローズを確認するアプリを作った
3. 別のプロジェクトで、毎日 url アクセスをする必要があるので、2.を clone してそのまま使ったため、開発をする手間が減った

これは理想としてのサンプルで、各種問題は抱えておりますが前提として考えです。

大抵のサーバサイドプログラムは同じ用なコードを書くことが多く、バージョンアップも煩雑になりがちなため、このように機能ごとにアプリを作成し

## アプリケーションの疎結合化とカスタマイズ

※この文章は解決方法ではなく、問題提議までで終わっています。

上記でアプリの再利用と書きましたが、単にアプリを復数作るだけではこれが困難な場合が多数あります。例として、シンプルな id,pass+パーミッションフラグのシンプルなユーザ管理アプリを作って復数利用したと考えます。

するとこのような事象が起きます

1. ユーザ管理を考えず済むので復数プロジェクトで利用した
2. ある日、ユーザ要件で note フィールドが必要になったため、ユーザアプリを更新した。そしてこのフィールドはユーザ必須入力のため model でも必須とした
3. 他のプロジェクトでは note は不要。そして、別のプロジェクトでは theridId の実装が必要になった。
4. 3.の問題は各プロジェクトでうまくフォローし収めたが、django のバージョンアップでベースのユーザアプリを更新する必要がでた
5. バージョン管理は各プロジェクトで行うことになり。ユーザアプリの管理は複雑化していった

一応すぐ思いつく解決方法

- ユーザアプリを最強の汎用アプリとして頑張って開発する: 要件が想定できないので無理がある
- 追加機能は別途アプリを作成し拡張する: 正しい気がする。ただ、アプリが増えるのは再利用の要件を崩している気がする
  - 一部要件をユーザアプリのフィードバックしたいとか、拡張アプリを作ったとしてそれぞれの機能を統合したいとか
